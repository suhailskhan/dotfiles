# Set PATH, MANPATH, etc., for Homebrew
eval "$(/opt/homebrew/bin/brew shellenv)"

# Set PATH, MANPATH, and FPATH for MacPorts
export PATH="/opt/local/bin:/opt/local/sbin:$PATH"
export MANPATH="/opt/local/share/man:$MANPATH"
export FPATH="/opt/local/share/zsh/site-functions:$FPATH"

# Set PATH, MANPATH, and FPATH for ~/.local
export PATH="$HOME/.local/bin:$PATH"
export MANPATH="$HOME/.local/share/man:$MANPATH"
export FPATH="$HOME/.local/share/zsh/site-functions:$FPATH"

# OrbStack command-line tools and integration
source ~/.orbstack/shell/init.zsh 2>/dev/null || :

# Run Universal binaries using Rosetta
alias rosetta='arch -x86_64'

# bun
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# https://gist.github.com/Jeff-Russ/215387f9c06f827f8623d186e308e77b
function safariHist () {
    if (( $# == 0 ))
    then entries=100
    else entries=$1
    fi
    sqlite3 ~/Library/Safari/History.db 'select visit_time,title from history_visits order by visit_time desc;' \
    | while read i; do d="${i%%.*}"; echo "$(date -r $((d+978307200))) | ${i#*|}"; done \
    | head -n $entries
}
